{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/paola/Desktop/zodiac-symbols/views/Search/index.js\";\nimport React, { useEffect, useState, useLayoutEffect } from \"react\";\nimport \"react-native-gesture-handler\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport styles from \"./styles\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Loading from \"../../components/Loading\";\nimport DegreeDetails from \"../../components/DegreeDetails\";\nexport default function SearchScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoaded = _useState2[0],\n      setIsLoaded = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sign = _useState4[0],\n      setSign = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      degree = _useState6[0],\n      setDegree = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      title = _useState8[0],\n      setTitle = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      keynote = _useState10[0],\n      setKeynote = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      description = _useState12[0],\n      setDescription = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      toggleSwitch = _useState14[0],\n      setToggleSwitch = _useState14[1];\n\n  useEffect(function () {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"cache-control\", \"no-cache\");\n    myHeaders.append(\"Accept\", \"application/json\");\n    fetch(\"https://zodiac-degrees.herokuapp.com\" + \"/degree\", {\n      method: \"GET\",\n      headers: myHeaders\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      setIsLoaded(true), setSign(data[0].sign), setDegree(data[0].degree), setTitle(data[0].title), setKeynote(data[0].keynote), setDescription(data[0].description);\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(\"response.data\", error.response.data);\n        console.log(\"response.status\", error.response.status);\n        console.log(\"response.headers\", error.response.headers);\n      } else if (error.request) {\n        console.log(\"e.request\", error.request);\n      } else {\n        console.log(\"There has been a problem with getting RANDOM operation: \" + error.message);\n      }\n\n      throw error;\n    });\n  }, []);\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return React.createElement(Switch, {\n          value: toggleSwitch,\n          onValueChange: function onValueChange(value) {\n            return setToggleSwitch(value);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }\n        });\n      }\n    });\n  }, [toggleSwitch]);\n  return React.createElement(React.Fragment, null, isLoaded ? React.createElement(DegreeDetails, {\n    sign: sign,\n    degree: degree,\n    title: title,\n    keynote: keynote,\n    description: description,\n    toggleSwitch: toggleSwitch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }) : React.createElement(ImageBackground, {\n    source: require(\"../../static/images/blackHole.jpeg\"),\n    style: styles.loadingPageImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/paola/Desktop/zodiac-symbols/views/Search/index.js"],"names":["React","useEffect","useState","useLayoutEffect","styles","Loading","DegreeDetails","SearchScreen","navigation","isLoaded","setIsLoaded","sign","setSign","degree","setDegree","title","setTitle","keynote","setKeynote","description","setDescription","toggleSwitch","setToggleSwitch","myHeaders","Headers","append","fetch","method","headers","then","res","json","data","catch","error","response","console","log","status","request","message","setOptions","headerRight","value","require","loadingPageImage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useLayoutEffect } from \"react\";\nimport \"react-native-gesture-handler\";\nimport { ImageBackground } from \"react-native\";\nimport styles from \"./styles\";\nimport { API_URL } from \"@env\";\nimport { Switch } from \"react-native\";\nimport Loading from \"../../components/Loading\";\nimport DegreeDetails from \"../../components/DegreeDetails\";\n\nexport default function SearchScreen({ navigation }) {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [sign, setSign] = useState();\n  const [degree, setDegree] = useState();\n  const [title, setTitle] = useState();\n  const [keynote, setKeynote] = useState();\n  const [description, setDescription] = useState();\n  const [toggleSwitch, setToggleSwitch] = useState(false);\n\n  useEffect(() => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"cache-control\", \"no-cache\");\n    myHeaders.append(\"Accept\", \"application/json\");\n    fetch(`${API_URL}/degree`, {\n      method: \"GET\",\n      headers: myHeaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setIsLoaded(true),\n          setSign(data[0].sign),\n          setDegree(data[0].degree),\n          setTitle(data[0].title),\n          setKeynote(data[0].keynote),\n          setDescription(data[0].description);\n      })\n      .catch((error) => {\n        if (error.response) {\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          console.log(\"response.data\", error.response.data);\n          console.log(\"response.status\", error.response.status);\n          console.log(\"response.headers\", error.response.headers);\n        } else if (error.request) {\n          // The request was made but no response was received\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n          // http.ClientRequest in node.js\n          console.log(\"e.request\", error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log(\n            \"There has been a problem with getting RANDOM operation: \" +\n              error.message\n          );\n        }\n\n        throw error;\n      });\n  }, []);\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      headerRight: () => (\n        <Switch\n          value={toggleSwitch}\n          onValueChange={(value) => setToggleSwitch(value)}\n        />\n      ),\n    });\n  }, [toggleSwitch]);\n\n  return (\n    <>\n      {isLoaded ? (\n        <DegreeDetails\n          sign={sign}\n          degree={degree}\n          title={title}\n          keynote={keynote}\n          description={description}\n          toggleSwitch={toggleSwitch}/>\n      ) : (\n        <ImageBackground source={require(\"../../static/images/blackHole.jpeg\")} style={styles.loadingPageImage}>\n          <Loading />\n        </ImageBackground>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}